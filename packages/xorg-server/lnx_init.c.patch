--- ../cache/xorg-server-1.19.6/hw/xfree86/os-support/linux/lnx_init.c	2017-12-20 20:32:33.000000000 +0000
+++ ./hw/xfree86/os-support/linux/lnx_init.c	2018-02-21 21:55:02.336647715 +0000
@@ -254,7 +254,8 @@
                     ("xf86OpenConsole: VT_SETMODE VT_PROCESS failed: %s\n",
                      strerror(errno));
 
-            SYSCALL(ret = ioctl(xf86Info.consoleFd, KDSETMODE, KD_GRAPHICS));
+#ifndef __ANDROID__
+	    SYSCALL(ret = ioctl(xf86Info.consoleFd, KDSETMODE, KD_GRAPHICS));
             if (ret < 0)
                 FatalError("xf86OpenConsole: KDSETMODE KD_GRAPHICS failed %s\n",
                            strerror(errno));
@@ -280,7 +281,7 @@
                     xf86SetConsoleHandler(drain_console, NULL);
                 }
             }
-
+#endif
             nTty = tty_attr;
             nTty.c_iflag = (IGNPAR | IGNBRK) & (~PARMRK) & (~ISTRIP);
             nTty.c_oflag = 0;
@@ -320,7 +321,7 @@
      * - what to do if someone else changed it in the meantime?
      */
     xf86SetConsoleHandler(NULL, NULL);
-
+#ifndef __ANDROID__
     /* Back to text mode ... */
     SYSCALL(ret = ioctl(xf86Info.consoleFd, KDSETMODE, KD_TEXT));
     if (ret < 0)
@@ -353,6 +354,7 @@
             activeVT = -1;
         }
     }
+#endif
     close(xf86Info.consoleFd);  /* make the vt-manager happy */
 }
 
